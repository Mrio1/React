(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),s=n(10),r=n.n(s),i=n(11),c=n(2),o=n(3),u=n(5),l=n(4),h=(n(16),n(0));var m=function(e){return Object(h.jsx)("div",{className:"square",onClick:e.onClick,children:e.value})},b=(n(18),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"renderSquare",value:function(e){var t=this;return Object(h.jsx)(m,{value:this.props.squares[e],onClick:function(){t.props.onClick(e)}},e)}},{key:"render",value:function(){var e=this,t=this.props.squares.map((function(t,n){return e.renderSquare(n)}));return Object(h.jsx)("div",{className:"board",children:t})}}]),n}(a.Component)),f=b,j=(n(19),function(e){var t=e.activeGameMode,n=e.onChangeMode,a="game-mode",s=[{name:"human",label:"human"},{name:"robot",label:"robot"}].map((function(e){var s=e.name,r=e.label,i="".concat(a,"__button");return i+=s===t?" ".concat(i,"_active"):"",Object(h.jsx)("button",{className:i,onClick:function(){n(s)},children:r},s)}));return Object(h.jsx)("div",{className:a,children:s})}),v=function(e){var t=e.onReset;return Object(h.jsx)("button",{className:"reset-button",onClick:function(){t()},children:" New game"})},d=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.activeGameMode,n=e.onChangeMode,a=e.onResetGame;return Object(h.jsxs)("div",{className:"control-panel",children:[Object(h.jsx)(v,{onReset:a}),Object(h.jsx)(j,{activeGameMode:t,onChangeMode:n})]})}}]),n}(a.Component),p=d,O=function(e){var t=e.moves,n=e.onJumpTo,a="game__info",s=t.map((function(e,t){return Object(h.jsx)("li",{className:"game__info__item",children:Object(h.jsxs)("button",{className:"game__info__button",onClick:function(){n(t)},children:[t," step"]})},t)}));return Object(h.jsx)("div",{className:a,children:Object(h.jsx)("ul",{className:"game__info__list",children:s})})},x=n(8);function N(e,t,n){for(var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=3,r=0,i=[],c=0;c<s;c++){var o=k(c,s,a),u=e[o];if(u===t)r=r>0?1e3:10;else{if(u){r=0;break}i=[].concat(Object(x.a)(i),[o])}}return{rate:r||0,positions:i}}function k(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return n?t*(e+1)-e-1:e*(t+1)}function g(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],r=0,i=null,c=3,o=1,u=1;s?u*=c:o*=c;for(var l=0;l<3;l++){for(var h=[],m=0,b=0;b<3;b++){var f=l*o+b*u,j=e[f];if(j===t)m=0!==m?100*a:10;else{if(j===n){m=0;break}h=[].concat(Object(x.a)(h),[f])}}m>r&&(r=m,i=Object(x.a)(h))}return{rate:r,positions:i}}var y=function(e,t,n){var a=[N(e,t,n,!1,10),N(e,t,n,!0,10),g(e,t,n,10,!0),g(e,t,n,10,!1)],s=[N(e,n,t,!1,1),N(e,n,t,!0,1),g(e,n,t,1,!0),g(e,n,t,1,!1)];return[].concat(a,s).sort((function(e,t){return t.rate-e.rate}))[0].positions[0]},_=(n(20),function(e){var t=e.info;return Object(h.jsx)("div",{className:"info-block",children:t})});function C(e){for(var t=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],n=0;n<t.length;n++){var a=Object(i.a)(t[n],3),s=a[0],r=a[1],c=a[2];if(e[s]&&e[s]===e[r]&&e[s]===e[c])return e[s]}return null}var G=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).isBlockGame=!1,a.state={history:[{squares:Array(9).fill(null)}],stepNumber:0,xIsNext:!0,firsPlayerIsNext:!0,activeGameMode:"human"},a}return Object(o.a)(n,[{key:"handleClick",value:function(e){if(!this.isBlockGame){var t=this.state.history.slice(0,this.state.stepNumber+1),n=t[t.length-1].squares.slice();C(n)||n[e]||(n[e]=this.state.xIsNext?"X":"O",this.setState({history:t.concat([{squares:n}]),stepNumber:t.length,xIsNext:!this.state.xIsNext,firsPlayerIsNext:!this.state.firsPlayerIsNext}))}}},{key:"jumpTo",value:function(e){this.setState({stepNumber:e,xIsNext:e%2===0})}},{key:"onChangeMode",value:function(e){this.setState({activeGameMode:e})}},{key:"onResetGame",value:function(){this.setState({history:[{squares:Array(9).fill(null)}],stepNumber:0})}},{key:"render",value:function(){var e,t=this,n=this.state,a=n.activeGameMode,s=n.firsPlayerIsNext,r=n.xIsNext,i=n.history,c=n.stepNumber,o=i[c],u=C(o.squares);return u?e="Win "+u:(e="Next turn: "+(r?"X":"O"),"robot"!==a||s||(this.isBlockGame=!0,setTimeout((function(){t.isBlockGame=!1;var e=i[i.length-1].squares,n=y(e,"O","X");t.handleClick(n)}),500))),Object(h.jsxs)("div",{className:"game",children:[Object(h.jsx)(p,{activeGameMode:a,onChangeMode:this.onChangeMode.bind(this),onResetGame:this.onResetGame.bind(this)}),Object(h.jsxs)("div",{className:"game__main",children:[Object(h.jsx)(O,{className:"game__side",moves:i,onJumpTo:this.jumpTo.bind(this)}),Object(h.jsxs)("div",{className:"game__play-field",children:[Object(h.jsx)(_,{info:e}),Object(h.jsx)(f,{squares:o.squares,onClick:function(e){return t.handleClick(e)}})]})]})]})}}]),n}(a.Component);n(21);r.a.render(Object(h.jsx)(G,{}),document.getElementById("root"))}],[[22,1,2]]]);
//# sourceMappingURL=main.bf5901b5.chunk.js.map